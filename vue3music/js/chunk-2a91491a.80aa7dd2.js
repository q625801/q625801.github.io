(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a91491a"],{"1c7a":function(e,t,c){"use strict";c.r(t);c("10dd"),c("4c1e"),c("fee8"),c("89a8"),c("d5ee");var n=c("a412"),a=function(e){return Object(n["pushScopeId"])("data-v-44caf749"),e=e(),Object(n["popScopeId"])(),e},o={class:"wrap-highqualityssheet"},l={class:"highqualityssheet-top"},i={class:"highqualityssheet-catgorysection",ref:"highqualityList"},r={class:"catgorysection-all"},s={class:"catgorysection-cb clear"},u=["onClick"],d={key:0,class:"highqualityssheet-section clear"},b=["onClick"],g=a((function(){return Object(n["createElementVNode"])("div",{class:"datalist-player amn4"},null,-1)})),j={class:"datalist-playCount"},O={class:"datalist-content fl"},m=["onClick"],f=["onClick"],p={class:"sn pd2 slh"},h={key:2,class:"loadend"};function y(e,t,c,a,y,v){var k=Object(n["resolveComponent"])("Titlemm"),C=Object(n["resolveComponent"])("LoadingCpn"),E=Object(n["resolveDirective"])("lazy");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[Object(n["createElementVNode"])("div",l,[Object(n["createVNode"])(k,{title:"精品歌单",arrow:!1}),Object(n["createElementVNode"])("div",{class:"highqualityssheet-tags",onClick:t[0]||(t[0]=function(t){return e.catgorysectionFlag=!e.catgorysectionFlag}),ref:"tags"},Object(n["toDisplayString"])(e.cat),513),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("span",{onClick:t[1]||(t[1]=function(t){return e.changecat("全部歌单")})},"全部歌单")]),Object(n["createElementVNode"])("div",s,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.highqualityTags,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"catgorysection-list fl",key:t.id},[Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])([e.cat==t.name?"on":""]),onClick:function(c){return e.changecat(t.name)}},Object(n["toDisplayString"])(t.name),11,u)])})),128))])],512),[[n["vShow"],e.catgorysectionFlag]])]),e.dataList&&e.dataList.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",d,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.dataList,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"highqualityssheet-datalist clear fl",key:t.id},[Object(n["createElementVNode"])("div",{class:"datalist-img fl",onClick:function(c){return e.goPage(e.router,"/songsheetdetail",{id:t.id})}},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",null,null,512),[[E,t.coverImgUrl+"?param=300y300"]]),g,Object(n["createElementVNode"])("div",j,Object(n["toDisplayString"])(t.playCount>1e8?(t.playCount/1e8).toString().split(".")[0]+"亿":t.playCount>1e4?(t.playCount/1e4).toString().split(".")[0]+"万":t.playCount),1)],8,b),Object(n["createElementVNode"])("div",O,[Object(n["createElementVNode"])("span",{class:"name slh",onClick:function(c){return e.goPage(e.router,"/songsheetdetail",{id:t.id})}},Object(n["toDisplayString"])(t.name),9,m),Object(n["createElementVNode"])("p",{class:"sn user slh",onClick:function(c){return e.goPage(e.router,"/userinfo",{id:t.creator.userId})}},"by "+Object(n["toDisplayString"])(t.creator.nickname),9,f),Object(n["createElementVNode"])("p",p,Object(n["toDisplayString"])(t.copywriter),1)])])})),128))])):Object(n["createCommentVNode"])("",!0),e.loading?(Object(n["openBlock"])(),Object(n["createBlock"])(C,{key:1})):Object(n["createCommentVNode"])("",!0),e.more?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",h,"我也是有底线的~"))])}var v=c("f026"),k=(c("b3d9"),c("7c81")),C=c("de46"),E=c("6abf"),N=c("6252"),V=c("6b05"),q=c("48b8"),B=Object(n["defineComponent"])({name:"highqualityssheet",components:{Titlemm:N["a"],LoadingCpn:E["a"]},setup:function(){var e=Object(V["d"])(),t=Object(n["reactive"])({catgorysectionFlag:!1,highqualityTags:"",cat:e.currentRoute.value.query.cat,dataList:[],before:"",more:!0,loading:!1}),c=function(){Object(k["b"])(C["n"],{},(function(e){200==e.code&&(t.highqualityTags=e.tags)}),(function(e){}))},a=function(){t.loading=!0,Object(k["b"])(C["m"],{before:t.before,cat:t.cat,limit:20},(function(e){t.loading=!1,200==e.code&&(t.dataList=t.dataList.concat(e.playlists),t.before=e.lasttime,t.more=e.more)}),(function(e){}))},o=function(c){t.catgorysectionFlag=!1,Object(q["g"])(e,"/index/highqualityssheet",{cat:c})};Object(n["watch"])((function(){return e.currentRoute.value.query}),(function(e){t.cat=e.cat,r()}));var l=Object(n["ref"])(null),i=Object(n["ref"])(null);c(),document.addEventListener("click",(function(e){l&&null!=l.value&&l.value.contains(e.target)||i&&null!=i.value&&!i.value.contains(e.target)&&(t.catgorysectionFlag=!1)})),Object(n["onMounted"])((function(){r();var e=document.querySelector(".index-screen"),c=e.offsetHeight;e.onscroll=function(){var n=e.scrollTop,o=e.scrollHeight;c+n-o>=0&&t.more&&a()}}));var r=function(){t.dataList=[],t.before="",a()};return Object(v["a"])(Object(v["a"])({},Object(n["toRefs"])(t)),{},{changecat:o,router:e,highqualityList:i,tags:l,goPage:q["g"]})}}),L=(c("d84f"),c("b3f2")),w=c.n(L);const S=w()(B,[["render",y],["__scopeId","data-v-44caf749"]]);t["default"]=S},bbe8:function(e,t,c){},d84f:function(e,t,c){"use strict";c("bbe8")}}]);
//# sourceMappingURL=chunk-2a91491a.80aa7dd2.js.map