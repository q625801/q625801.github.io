(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36bd2934"],{"0f94":function(e,t,a){"use strict";a("10dd");var n=a("a412"),o=function(e){return Object(n["pushScopeId"])("data-v-1f3054d7"),e=e(),Object(n["popScopeId"])(),e},c={class:"wrap-musicplaylist"},l=Object(n["createStaticVNode"])('<div class="musicplaylist-header" data-v-1f3054d7><div class="header-o" data-v-1f3054d7>操作</div><div class="header-t" data-v-1f3054d7>标题</div><div class="header-s" data-v-1f3054d7>歌手</div><div class="header-f" data-v-1f3054d7>专辑</div><div class="header-w" data-v-1f3054d7>时间</div></div>',1),i=["onDblclick"],s={class:"musicplaylist-operation clear"},r={class:"musicplaylist-num fl"},d=o((function(){return Object(n["createElementVNode"])("div",{class:"musicplaylist-AudioInfoPlay fl"},null,-1)})),u={key:0,class:"musicplaylist-ratio fl"},p={key:1,class:"musicplaylist-lr fl"},b=o((function(){return Object(n["createElementVNode"])("div",{class:"musicplaylist-collection fl"},null,-1)})),g=["onClick"],m={class:"musicplaylist-name ellipsis"},f={class:"musicplaylist-artist ellipsis"},O=["onClick"],j=["onClick"],v={class:"musicplaylist-duration"},k={class:"musicplaylist-loading"},y={key:1,class:"musicplaylist-bottom"};function h(e,t,a,o,h,I){var w=Object(n["resolveComponent"])("LoadingCpn");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",c,[e.songlistdata.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:0,class:Object(n["normalizeClass"])(["musicplaylist-table clear",[e.isRank?"isRank":""]])},[l,(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.songlistdata,(function(t,a){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["musicplaylist-list",a%2==0?"":"bgtst",t.id==e.$store.state.audioInfo.SongInfo.SongId?"on":"",t.id==e.$store.state.audioInfo.SongInfo.SongId&&e.$store.state.audioInfo.audioPlayBtn?"onPlay":"offPlay"]),key:t.id,onDblclick:function(a){return e.goAudioPlay(t)}},[Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(a+1<10?"0"+(a+1):a+1),1),d]),e.trackIds&&e.trackIds[a].ratio&&e.isRank?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",u,Object(n["toDisplayString"])(e.trackIds[a].ratio+"%"),1)):Object(n["createCommentVNode"])("",!0),e.trackIds&&!e.trackIds[a].ratio&&e.isRank?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",p,[Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])([e.trackIds[a].lr||0===e.trackIds[a].lr?a-e.trackIds[a].lr===0?"none":a-e.trackIds[a].lr<0?"up":"down":"new"])},null,2)])):Object(n["createCommentVNode"])("",!0),b,Object(n["createElementVNode"])("div",{class:"musicplaylist-download fl",onClick:Object(n["withModifiers"])((function(a){return e.download(t)}),["stop"])},null,8,g)]),Object(n["createElementVNode"])("div",m,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(t.name),1),Object(n["createElementVNode"])("em",null,Object(n["toDisplayString"])(t.tns&&t.tns.length>0?"（"+t.tns[0]+"）":t.alia&&t.alia.length>0?"（"+t.alia[0]+"）":""),1)]),Object(n["createElementVNode"])("div",f,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(t.ar,(function(t,a){return Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{key:a},[Object(n["createTextVNode"])(Object(n["toDisplayString"])(0!=a?" / ":"")+" ",1),Object(n["createElementVNode"])("em",{onClick:Object(n["withModifiers"])((function(a){return e.goPage(e.router,"/artist",{id:t.id})}),["stop"])},Object(n["toDisplayString"])(t.name),9,O)])})),128))]),Object(n["createElementVNode"])("div",{class:"musicplaylist-album ellipsis",onClick:Object(n["withModifiers"])((function(a){return e.goPage(e.router,"/album",{id:t.al.id})}),["stop"])},Object(n["toDisplayString"])(t.al.name),9,j),Object(n["createElementVNode"])("div",v,Object(n["toDisplayString"])(e.playtime(t.dt)),1)],42,i)})),128))],2)):Object(n["createCommentVNode"])("",!0),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",k,[Object(n["createVNode"])(w)],512),[[n["vShow"],e.songmoreloading]]),e.showsongmore?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",y,"我也是有底线的")):Object(n["createCommentVNode"])("",!0)])}var I=a("6ca7"),w=(a("4708"),a("b3f2")),N=a.n(w);const S=N()(I["a"],[["render",h],["__scopeId","data-v-1f3054d7"]]);t["a"]=S},4708:function(e,t,a){"use strict";a("b71c")},"6ca7":function(e,t,a){"use strict";(function(e){var n=a("f026"),o=a("a8d5"),c=(a("e186"),a("89a8"),a("1a91"),a("d5ee"),a("b3d9"),a("10dd"),a("87d5"),a("4c1e"),a("d1ba"),a("1926"),a("b110"),a("fe35"),a("7216"),a("609b"),a("a412")),l=a("7c81"),i=a("de46"),s=a("6abf"),r=a("408d"),d=a.n(r),u=a("767c"),p=a("48b8"),b=a("6b05");t["a"]=Object(c["defineComponent"])({name:"loading",props:["stdetaildata","stSongAll","isRank","type"],components:{LoadingCpn:s["a"]},setup:function(t){var s=Object(c["reactive"])({trackIds:"",pagelength:"",songlistdata:[],pageArr:{ArrNo:0,ArrSize:20},songmoreloading:!1,showsongmore:!1,songlistAll:[],PlayListId:""});Object(c["onMounted"])((function(){var e=document.querySelector(".wrap-everydaysongrmd")||document.querySelector(".wrap-albumsongsheet"),t=e.offsetHeight;e.onscroll=function(){var a=e.scrollTop,n=e.scrollHeight;t+a-n>=0&&(s.songlistdata.length<s.trackIds.length?(s.songmoreloading=!0,g()):s.showsongmore=!0)}}));var r=function(){s.trackIds=[],s.pagelength="",s.pageArr={ArrNo:0,ArrSize:20},s.songlistdata=[],s.songmoreloading=!1,s.showsongmore=!1,s.songlistAll=[]},g=function(){var e=s.pageArr.ArrNo;if(s.pageArr.ArrNo!=s.pagelength){s.pageArr.ArrNo+=s.pageArr.ArrSize,s.pageArr.ArrNo>s.pagelength&&(s.pageArr.ArrNo=s.pagelength);var t=[];s.trackIds.forEach((function(a,n){n>=e&&n<s.pageArr.ArrNo&&t.push(a.id)})),m(t)}},m=function(e){Object(l["b"])(i["F"],{ids:e.toString()},(function(e){200==e.code&&(s.songmoreloading=!1,s.songlistdata=s.songlistdata.concat(e.songs))}),(function(e){}),!1)},f=Object(u["c"])(),O=function(e){var t={id:e.id,name:e.name,picUrl:e.al.picUrl,song:{artists:e.ar}},a=[],n="";n=JSON.parse(JSON.stringify(s.songlistAll)),n.forEach((function(e){var t={id:e.id,name:e.name,picUrl:e.al.picUrl,song:{artists:e.ar,bMusic:{playTime:e.dt}}};a.push(t)})),Object(p["d"])(t,a,f)},j=function(e){var t=e.row;return t.id!=f.state.audioInfo.SongInfo.SongId||f.state.audioInfo.audioPlayBtn?t.id==f.state.audioInfo.SongInfo.SongId?"on":void 0:"on playoff"};function v(e){return new Promise((function(t,a){Object(l["b"])(i["y"]+"?timestamp="+(new Date).getTime(),{id:e},(function(e){null!=e.data[0].url?t(e.data[0].url):a(void 0)}),(function(e){a(void 0)}),!1)}))}function k(e){return y.apply(this,arguments)}function y(){return y=Object(o["a"])(regeneratorRuntime.mark((function t(n){var o,c,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!d()()){t.next=7;break}o=a("f1ac9"),c=a("6266"),i=c.join(e,"../../download").replace(/\\/g,"/"),console.log(o,i),t.next=11;break;case 7:return t.next=9,v(n.id);case 9:s=t.sent,Object(l["a"])(s,{},(function(e){var t=new Blob([e]),a=n.name+".mp3",o=document.createElement("a");o.download=a,o.style.display="none",o.href=URL.createObjectURL(t),document.body.appendChild(o),o.click(),URL.revokeObjectURL(o.href),document.body.removeChild(o)}),(function(e){}));case 11:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}Object(c["watch"])((function(){return t}),(function(e,t){s.PlayListId&&s.PlayListId==e.stdetaildata.id||(e.stdetaildata.trackIds&&(r(),s.trackIds=e.stdetaildata.trackIds,s.pagelength=s.trackIds.length,s.PlayListId=e.stdetaildata.id,g()),e.stSongAll&&e.stSongAll.length>0&&(s.songlistAll=e.stSongAll),"album"==e.type&&(s.songlistdata=e.stSongAll))}),{immediate:!0,deep:!0});var h=Object(b["d"])();return Object(n["a"])(Object(n["a"])({},Object(c["toRefs"])(s)),{},{download:k,playtime:p["i"],getmoresong:g,goAudioPlay:O,tableRowClassName:j,router:h,goPage:p["g"]})}})}).call(this,"/")},b71c:function(e,t,a){}}]);
//# sourceMappingURL=chunk-36bd2934.f314e81e.js.map